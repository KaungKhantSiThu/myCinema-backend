# H2 in-memory profile for local development and CI without a running Postgres
spring.datasource.url=jdbc:h2:mem:mycinema;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# Use Hibernate dialect for H2 and create schema automatically for dev
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop

# Disable Flyway for in-memory runs (Flyway expects a Postgres DB by default)
spring.flyway.enabled=false

# Do not initialize SQL from files (we use JPA to create schema in dev)
spring.sql.init.mode=never

# Keep management endpoints exposed for debugging
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always

# Reduce pool size for dev
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1

# Keep other dev-friendly timeouts
spring.mvc.async.request-timeout=30000

server.port=8080

